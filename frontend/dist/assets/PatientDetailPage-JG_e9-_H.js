import{a as po,g as bo,r as x,b as fo,e as xe,j as e,s as me,f as Ho,h as mo,y as Uo,m as go,z as lt,F as Ko,G as Vo,d as Yo,n as it,H as oo,J as Se,K as ct,M as dt,c as jo,N as ut,p as xt,O as ht,q as S,B as p,C as Co,t as m,P as de,A as pt,T as b,E as Te,I as Y}from"./index-DuGlS2hS.js";import{u as bt}from"./useNotification-DEJT79vM.js";import{E as ko,P as ft,D as to}from"./ErrorRetry-BkhO0ssf.js";import{V as Wo}from"./visitStatus-kedmqlXd.js";import{c as mt,a as gt,g as ro,d as jt,H as yt,e as Po,h as Fo,M as wt,i as Ro}from"./dateFormat-D5f9IIy8.js";import{C as no}from"./Container-DggLIBHC.js";import{A as ao}from"./Alert-BnPrPNDn.js";import{A as Ao}from"./Assignment-C5Fn19Y0.js";import{S as To}from"./Science-CQ1rCQXw.js";import{L as Bo}from"./LocalHospital-JyMKwtWl.js";import{E as Io}from"./EventAvailable-DFN5wNgB.js";import{B as g}from"./Button-DYA-l7Ix.js";import{A as St}from"./ArrowBack-BLijn9hB.js";import{C as so}from"./Chip-CKQ1KLG2.js";import{C as Do}from"./CalendarToday-0rSQMvcI.js";import{G as J}from"./Grid-9JmJah-6.js";import{A as ve}from"./Add-CyAZE82m.js";import{E as Ye}from"./Edit-CC4dElt7.js";import{u as qe,S as Xe}from"./Select-DgRGz9X7.js";import{K as vt,a as zt,D as lo}from"./KeyboardArrowRight-CcXDP3W7.js";import{S as Q}from"./Stack-DKrDn8iz.js";import{A as io,R as co}from"./Restore-CO_ljNLX.js";import{D as Be}from"./Delete-XwNcIwF-.js";import{V as Eo}from"./Visibility-zS0Eo4-i.js";import{G as $o}from"./GetApp-BdLPp6v8.js";import{T as Ct,a as kt,b as Wt,c as Mo,d as H,e as Pt}from"./TableRow-B0Vjdlj8.js";import{F as Ge,T as ue,I as uo}from"./TextField-VtT5fMIl.js";import{M as oe}from"./MenuItem-0hJOb36H.js";import{T as Lo,N as Ft}from"./Notifications-xvnp-x2s.js";import{D as Ie,a as De,b as Ee,c as $e}from"./DialogTitle-Cnb6c1S1.js";import{I as Rt}from"./InputAdornment-BplF7Ie4.js";import{S as At}from"./Send-B9BV-XQG.js";import"./Refresh-CYwZfv-e.js";import"./useThemeProps-CESs6Os5.js";function Tt(r){return bo("MuiTab",r)}const X=po("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Bt=r=>{const{classes:t,textColor:i,fullWidth:d,wrapped:h,icon:s,label:R,selected:v,disabled:w}=r,W={root:["root",s&&R&&"labelIcon",`textColor${Ho(i)}`,d&&"fullWidth",h&&"wrapped",v&&"selected",w&&"disabled"],icon:["iconWrapper","icon"]};return mo(W,Tt,t)},It=me(Uo,{name:"MuiTab",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:i}=r;return[t.root,i.label&&i.icon&&t.labelIcon,t[`textColor${Ho(i.textColor)}`],i.fullWidth&&t.fullWidth,i.wrapped&&t.wrapped,{[`& .${X.iconWrapper}`]:t.iconWrapper},{[`& .${X.icon}`]:t.icon}]}})(go(({theme:r})=>({...r.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:i})=>t.icon&&t.label&&i==="top",style:{[`& > .${X.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:i})=>t.icon&&t.label&&i==="bottom",style:{[`& > .${X.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:i})=>t.icon&&t.label&&i==="start",style:{[`& > .${X.icon}`]:{marginRight:r.spacing(1)}}},{props:({ownerState:t,iconPosition:i})=>t.icon&&t.label&&i==="end",style:{[`& > .${X.icon}`]:{marginLeft:r.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${X.selected}`]:{opacity:1},[`&.${X.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(r.vars||r).palette.text.secondary,[`&.${X.selected}`]:{color:(r.vars||r).palette.primary.main},[`&.${X.disabled}`]:{color:(r.vars||r).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(r.vars||r).palette.text.secondary,[`&.${X.selected}`]:{color:(r.vars||r).palette.secondary.main},[`&.${X.disabled}`]:{color:(r.vars||r).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:r.typography.pxToRem(12)}}]}))),ze=x.forwardRef(function(t,i){const d=fo({props:t,name:"MuiTab"}),{className:h,disabled:s=!1,disableFocusRipple:R=!1,fullWidth:v,icon:w,iconPosition:W="top",indicator:$,label:I,onChange:T,onClick:L,onFocus:te,selected:N,selectionFollowsFocus:U,textColor:se="inherit",value:G,wrapped:he=!1,..._}=d,c={...d,disabled:s,disableFocusRipple:R,selected:N,icon:!!w,iconPosition:W,label:!!I,fullWidth:v,textColor:se,wrapped:he},P=Bt(c),B=w&&I&&x.isValidElement(w)?x.cloneElement(w,{className:xe(P.icon,w.props.className)}):w,le=D=>{!N&&T&&T(D,G),L&&L(D)},z=D=>{U&&!N&&T&&T(D,G),te&&te(D)};return e.jsxs(It,{focusRipple:!R,className:xe(P.root,h),ref:i,role:"tab","aria-selected":N,disabled:s,onClick:le,onFocus:z,ownerState:c,tabIndex:N?0:-1,..._,children:[W==="top"||W==="start"?e.jsxs(x.Fragment,{children:[B,I]}):e.jsxs(x.Fragment,{children:[I,B]}),$]})});function Dt(r){return(1+Math.sin(Math.PI*r-Math.PI/2))/2}function Et(r,t,i,d={},h=()=>{}){const{ease:s=Dt,duration:R=300}=d;let v=null;const w=t[r];let W=!1;const $=()=>{W=!0},I=T=>{if(W){h(new Error("Animation cancelled"));return}v===null&&(v=T);const L=Math.min(1,(T-v)/R);if(t[r]=s(L)*(i-w)+w,L>=1){requestAnimationFrame(()=>{h(null)});return}requestAnimationFrame(I)};return w===i?(h(new Error("Element already at target position")),$):(requestAnimationFrame(I),$)}const $t={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Mt(r){const{onChange:t,...i}=r,d=x.useRef(),h=x.useRef(null),s=()=>{d.current=h.current.offsetHeight-h.current.clientHeight};return lt(()=>{const R=Ko(()=>{const w=d.current;s(),w!==d.current&&t(d.current)}),v=Vo(h.current);return v.addEventListener("resize",R),()=>{R.clear(),v.removeEventListener("resize",R)}},[t]),x.useEffect(()=>{s(),t(d.current)},[t]),e.jsx("div",{style:$t,...i,ref:h})}function Lt(r){return bo("MuiTabScrollButton",r)}const Nt=po("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Ot=r=>{const{classes:t,orientation:i,disabled:d}=r;return mo({root:["root",i,d&&"disabled"]},Lt,t)},Zt=me(Uo,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:i}=r;return[t.root,i.orientation&&t[i.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Nt.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Ht=x.forwardRef(function(t,i){const d=fo({props:t,name:"MuiTabScrollButton"}),{className:h,slots:s={},slotProps:R={},direction:v,orientation:w,disabled:W,...$}=d,I=Yo(),T={isRtl:I,...d},L=Ot(T),te=s.StartScrollButtonIcon??vt,N=s.EndScrollButtonIcon??zt,U=qe({elementType:te,externalSlotProps:R.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:T}),se=qe({elementType:N,externalSlotProps:R.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:T});return e.jsx(Zt,{component:"div",className:xe(L.root,h),ref:i,role:null,ownerState:T,tabIndex:null,...$,style:{...$.style,...w==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${I?-90:90}deg)`}},children:v==="left"?e.jsx(te,{...U}):e.jsx(N,{...se})})});function Ut(r){return bo("MuiTabs",r)}const xo=po("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),No=(r,t)=>r===t?r.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r.firstChild,Oo=(r,t)=>r===t?r.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r.lastChild,_e=(r,t,i)=>{let d=!1,h=i(r,t);for(;h;){if(h===r.firstChild){if(d)return;d=!0}const s=h.disabled||h.getAttribute("aria-disabled")==="true";if(!h.hasAttribute("tabindex")||s)h=i(r,h);else{h.focus();return}}},Kt=r=>{const{vertical:t,fixed:i,hideScrollbar:d,scrollableX:h,scrollableY:s,centered:R,scrollButtonsHideMobile:v,classes:w}=r;return mo({root:["root",t&&"vertical"],scroller:["scroller",i&&"fixed",d&&"hideScrollbar",h&&"scrollableX",s&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",R&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",v&&"scrollButtonsHideMobile"],scrollableX:[h&&"scrollableX"],hideScrollbar:[d&&"hideScrollbar"]},Ut,w)},Vt=me("div",{name:"MuiTabs",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:i}=r;return[{[`& .${xo.scrollButtons}`]:t.scrollButtons},{[`& .${xo.scrollButtons}`]:i.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,i.vertical&&t.vertical]}})(go(({theme:r})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${xo.scrollButtons}`]:{[r.breakpoints.down("sm")]:{display:"none"}}}}]}))),Yt=me("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(r,t)=>{const{ownerState:i}=r;return[t.scroller,i.fixed&&t.fixed,i.hideScrollbar&&t.hideScrollbar,i.scrollableX&&t.scrollableX,i.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:r})=>r.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:r})=>r.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:r})=>r.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:r})=>r.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Xt=me("div",{name:"MuiTabs",slot:"List",overridesResolver:(r,t)=>{const{ownerState:i}=r;return[t.list,t.flexContainer,i.vertical&&t.flexContainerVertical,i.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:r})=>r.vertical,style:{flexDirection:"column"}},{props:({ownerState:r})=>r.centered,style:{justifyContent:"center"}}]}),Gt=me("span",{name:"MuiTabs",slot:"Indicator"})(go(({theme:r})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:r.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(r.vars||r).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(r.vars||r).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),_t=me(Mt)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Zo={},qt=x.forwardRef(function(t,i){const d=fo({props:t,name:"MuiTabs"}),h=it(),s=Yo(),{"aria-label":R,"aria-labelledby":v,action:w,centered:W=!1,children:$,className:I,component:T="div",allowScrollButtonsMobile:L=!1,indicatorColor:te="primary",onChange:N,orientation:U="horizontal",ScrollButtonComponent:se,scrollButtons:G="auto",selectionFollowsFocus:he,slots:_={},slotProps:c={},TabIndicatorProps:P={},TabScrollButtonProps:B={},textColor:le="primary",value:z,variant:D="standard",visibleScrollbar:ie=!1,...Me}=d,A=D==="scrollable",E=U==="vertical",O=E?"scrollTop":"scrollLeft",re=E?"top":"left",y=E?"bottom":"right",pe=E?"clientHeight":"clientWidth",ge=E?"height":"width",K={...d,component:T,allowScrollButtonsMobile:L,indicatorColor:te,orientation:U,vertical:E,scrollButtons:G,textColor:le,variant:D,visibleScrollbar:ie,fixed:!A,hideScrollbar:A&&!ie,scrollableX:A&&!E,scrollableY:A&&E,centered:W&&!A,scrollButtonsHideMobile:!L},ne=Kt(K),ke=qe({elementType:_.StartScrollButtonIcon,externalSlotProps:c.startScrollButtonIcon,ownerState:K}),je=qe({elementType:_.EndScrollButtonIcon,externalSlotProps:c.endScrollButtonIcon,ownerState:K}),[ye,M]=x.useState(!1),[V,Le]=x.useState(Zo),[We,Pe]=x.useState(!1),[Ne,Fe]=x.useState(!1),[Oe,Je]=x.useState(!1),[Ze,Re]=x.useState({overflow:"hidden",scrollbarWidth:0}),He=new Map,q=x.useRef(null),ae=x.useRef(null),ce={slots:_,slotProps:{indicator:P,scrollButtons:B,...c}},Ue=()=>{const n=q.current;let l;if(n){const j=n.getBoundingClientRect();l={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollWidth:n.scrollWidth,top:j.top,bottom:j.bottom,left:j.left,right:j.right}}let f;if(n&&z!==!1){const j=ae.current.children;if(j.length>0){const k=j[He.get(z)];f=k?k.getBoundingClientRect():null}}return{tabsMeta:l,tabMeta:f}},be=oo(()=>{const{tabsMeta:n,tabMeta:l}=Ue();let f=0,j;E?(j="top",l&&n&&(f=l.top-n.top+n.scrollTop)):(j=s?"right":"left",l&&n&&(f=(s?-1:1)*(l[j]-n[j]+n.scrollLeft)));const k={[j]:f,[ge]:l?l[ge]:0};if(typeof V[j]!="number"||typeof V[ge]!="number")Le(k);else{const ee=Math.abs(V[j]-k[j]),fe=Math.abs(V[ge]-k[ge]);(ee>=1||fe>=1)&&Le(k)}}),o=(n,{animation:l=!0}={})=>{l?Et(O,q.current,n,{duration:h.transitions.duration.standard}):q.current[O]=n},a=n=>{let l=q.current[O];E?l+=n:l+=n*(s?-1:1),o(l)},u=()=>{const n=q.current[pe];let l=0;const f=Array.from(ae.current.children);for(let j=0;j<f.length;j+=1){const k=f[j];if(l+k[pe]>n){j===0&&(l=n);break}l+=k[pe]}return l},F=()=>{a(-1*u())},Z=()=>{a(u())},[C,{onChange:we,...Xo}]=Se("scrollbar",{className:xe(ne.scrollableX,ne.hideScrollbar),elementType:_t,shouldForwardComponentProp:!0,externalForwardedProps:ce,ownerState:K}),Go=x.useCallback(n=>{we==null||we(n),Re({overflow:null,scrollbarWidth:n})},[we]),[yo,wo]=Se("scrollButtons",{className:xe(ne.scrollButtons,B.className),elementType:Ht,externalForwardedProps:ce,ownerState:K,additionalProps:{orientation:U,slots:{StartScrollButtonIcon:_.startScrollButtonIcon||_.StartScrollButtonIcon,EndScrollButtonIcon:_.endScrollButtonIcon||_.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:ke,endScrollButtonIcon:je}}}),_o=()=>{const n={};n.scrollbarSizeListener=A?e.jsx(C,{...Xo,onChange:Go}):null;const f=A&&(G==="auto"&&(We||Ne)||G===!0);return n.scrollButtonStart=f?e.jsx(yo,{direction:s?"right":"left",onClick:F,disabled:!We,...wo}):null,n.scrollButtonEnd=f?e.jsx(yo,{direction:s?"left":"right",onClick:Z,disabled:!Ne,...wo}):null,n},So=oo(n=>{const{tabsMeta:l,tabMeta:f}=Ue();if(!(!f||!l)){if(f[re]<l[re]){const j=l[O]+(f[re]-l[re]);o(j,{animation:n})}else if(f[y]>l[y]){const j=l[O]+(f[y]-l[y]);o(j,{animation:n})}}}),Ke=oo(()=>{A&&G!==!1&&Je(!Oe)});x.useEffect(()=>{const n=Ko(()=>{q.current&&be()});let l;const f=ee=>{ee.forEach(fe=>{fe.removedNodes.forEach(Ae=>{l==null||l.unobserve(Ae)}),fe.addedNodes.forEach(Ae=>{l==null||l.observe(Ae)})}),n(),Ke()},j=Vo(q.current);j.addEventListener("resize",n);let k;return typeof ResizeObserver<"u"&&(l=new ResizeObserver(n),Array.from(ae.current.children).forEach(ee=>{l.observe(ee)})),typeof MutationObserver<"u"&&(k=new MutationObserver(f),k.observe(ae.current,{childList:!0})),()=>{n.clear(),j.removeEventListener("resize",n),k==null||k.disconnect(),l==null||l.disconnect()}},[be,Ke]),x.useEffect(()=>{const n=Array.from(ae.current.children),l=n.length;if(typeof IntersectionObserver<"u"&&l>0&&A&&G!==!1){const f=n[0],j=n[l-1],k={root:q.current,threshold:.99},ee=eo=>{Pe(!eo[0].isIntersecting)},fe=new IntersectionObserver(ee,k);fe.observe(f);const Ae=eo=>{Fe(!eo[0].isIntersecting)},zo=new IntersectionObserver(Ae,k);return zo.observe(j),()=>{fe.disconnect(),zo.disconnect()}}},[A,G,Oe,$==null?void 0:$.length]),x.useEffect(()=>{M(!0)},[]),x.useEffect(()=>{be()}),x.useEffect(()=>{So(Zo!==V)},[So,V]),x.useImperativeHandle(w,()=>({updateIndicator:be,updateScrollButtons:Ke}),[be,Ke]);const[qo,Jo]=Se("indicator",{className:xe(ne.indicator,P.className),elementType:Gt,externalForwardedProps:ce,ownerState:K,additionalProps:{style:V}}),vo=e.jsx(qo,{...Jo});let Ve=0;const Qo=x.Children.map($,n=>{if(!x.isValidElement(n))return null;const l=n.props.value===void 0?Ve:n.props.value;He.set(l,Ve);const f=l===z;return Ve+=1,x.cloneElement(n,{fullWidth:D==="fullWidth",indicator:f&&!ye&&vo,selected:f,selectionFollowsFocus:he,onChange:N,textColor:le,value:l,...Ve===1&&z===!1&&!n.props.tabIndex?{tabIndex:0}:{}})}),et=n=>{if(n.altKey||n.shiftKey||n.ctrlKey||n.metaKey)return;const l=ae.current,f=ct(dt(l));if((f==null?void 0:f.getAttribute("role"))!=="tab")return;let k=U==="horizontal"?"ArrowLeft":"ArrowUp",ee=U==="horizontal"?"ArrowRight":"ArrowDown";switch(U==="horizontal"&&s&&(k="ArrowRight",ee="ArrowLeft"),n.key){case k:n.preventDefault(),_e(l,f,Oo);break;case ee:n.preventDefault(),_e(l,f,No);break;case"Home":n.preventDefault(),_e(l,null,No);break;case"End":n.preventDefault(),_e(l,null,Oo);break}},Qe=_o(),[ot,tt]=Se("root",{ref:i,className:xe(ne.root,I),elementType:Vt,externalForwardedProps:{...ce,...Me,component:T},ownerState:K}),[rt,nt]=Se("scroller",{ref:q,className:ne.scroller,elementType:Yt,externalForwardedProps:ce,ownerState:K,additionalProps:{style:{overflow:Ze.overflow,[E?`margin${s?"Left":"Right"}`:"marginBottom"]:ie?void 0:-Ze.scrollbarWidth}}}),[at,st]=Se("list",{ref:ae,className:xe(ne.list,ne.flexContainer),elementType:Xt,externalForwardedProps:ce,ownerState:K,getSlotProps:n=>({...n,onKeyDown:l=>{var f;et(l),(f=n.onKeyDown)==null||f.call(n,l)}})});return e.jsxs(ot,{...tt,children:[Qe.scrollButtonStart,Qe.scrollbarSizeListener,e.jsxs(rt,{...nt,children:[e.jsx(at,{"aria-label":R,"aria-labelledby":v,"aria-orientation":U==="vertical"?"vertical":null,role:"tablist",...st,children:Qo}),ye&&vo]}),Qe.scrollButtonEnd]})}),Jt=jo(e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"})),ho=jo([e.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),e.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]),Qt=jo(e.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-6 0h-4V4h4z"}));function Ce(r){const{children:t,value:i,index:d,...h}=r;return e.jsx("div",{role:"tabpanel",hidden:i!==d,id:`patient-tabpanel-${d}`,"aria-labelledby":`patient-tab-${d}`,...h,children:i===d&&e.jsx(p,{sx:{pt:5,px:{xs:2,md:4}},children:t})})}function Ir(){const{id:r}=ut(),t=xt(),i=ht(),{success:d,error:h}=bt(),[s,R]=x.useState(null),[v,w]=x.useState(!0),[W,$]=x.useState(0),[I,T]=x.useState([]),[L,te]=x.useState([]),[N,U]=x.useState([]),[se,G]=x.useState([]),[he,_]=x.useState([]),[c,P]=x.useState({open:!1,mode:"add",id:null,data:"",rodzajZabiegu:"",notatki:"",status:"ZAPLANOWANA",numerWSerii:"",liczbaSerii:"",cena:""}),[B,le]=x.useState({open:!1,type:null,id:null,name:""}),[z,D]=x.useState({open:!1,visitId:null,visitData:"",rodzajZabiegu:"",customMessage:"",recipientEmail:""}),[ie,Me]=x.useState(!1),[A,E]=x.useState({open:!1,type:null,id:null,name:""}),[O,re]=x.useState({open:!1,type:null,id:null,name:""}),[y,pe]=x.useState({consultations:!1,labResults:!1,carePlans:!1}),[ge,K]=x.useState(""),[ne,ke]=x.useState(""),[je,ye]=x.useState(null);x.useEffect(()=>{r&&M()},[r,y]),x.useEffect(()=>{var o;(o=i.state)!=null&&o.refresh&&r&&(M(),t(i.pathname,{replace:!0,state:{}}))},[i.state,r]);const M=async()=>{var o,a;try{w(!0),ye(null);const u=await S.get(`/patients/${r}`,{_skipErrorToast:!0});R(u.data.patient),U(u.data.patient.scalpPhotos||[]);const F=await S.get(`/consultations/patient/${r}`,{params:{archived:y.consultations?"true":"false"},_skipErrorToast:!0});T(F.data.consultations||[]);const Z=await S.get(`/lab-results/patient/${r}`,{params:{archived:y.labResults?"true":"false"},_skipErrorToast:!0});te(Z.data.labResults||[]);const C=await S.get(`/care-plans/patient/${r}`,{params:{archived:y.carePlans?"true":"false"},_skipErrorToast:!0});G(C.data.carePlans||[]);const we=await S.get(`/visits/patient/${r}`,{_skipErrorToast:!0});_(we.data.visits||[])}catch(u){console.error("Błąd pobierania pacjenta:",u),ye(((a=(o=u.response)==null?void 0:o.data)==null?void 0:a.error)||"Nie udało się załadować danych pacjenta")}finally{w(!1)}},V=(o,a,u)=>{le({open:!0,type:o,id:a,name:u})},Le=async()=>{var o,a;if(!(!B.id||!B.type))try{switch(K(""),ke(""),B.type){case"patient":await S.delete(`/patients/${B.id}`),d("Pacjent został zarchiwizowany"),setTimeout(()=>t("/patients"),1500);break;case"consultation":await S.delete(`/consultations/${B.id}`),d("Konsultacja została zarchiwizowana"),M();break;case"labResult":await S.delete(`/lab-results/${B.id}`),d("Wynik badania został usunięty"),M();break;case"scalpPhoto":await S.delete(`/scalp-photos/${B.id}`),d("Zdjęcie zostało usunięte"),M();break;case"carePlan":await S.delete(`/care-plans/${B.id}`),d("Plan opieki został usunięty"),M();break;case"visit":await S.delete(`/visits/${B.id}`),d("Wizyta została usunięta"),M();break}le({open:!1,type:null,id:null,name:""})}catch(u){h(((a=(o=u.response)==null?void 0:o.data)==null?void 0:a.error)||"Błąd podczas usuwania")}},We=()=>{le({open:!1,type:null,id:null,name:""})},Pe=(o,a,u)=>{E({open:!0,type:o,id:a,name:u})},Ne=async()=>{var o,a;if(!(!A.id||!A.type))try{switch(K(""),ke(""),A.type){case"consultation":await S.post(`/consultations/${A.id}/restore`),d("Konsultacja została przywrócona");break;case"labResult":await S.post(`/lab-results/${A.id}/restore`),d("Wynik badania został przywrócony");break;case"carePlan":await S.post(`/care-plans/${A.id}/restore`),d("Plan opieki został przywrócony");break}E({open:!1,type:null,id:null,name:""}),M()}catch(u){h(((a=(o=u.response)==null?void 0:o.data)==null?void 0:a.error)||"Błąd podczas przywracania")}},Fe=(o,a,u)=>{re({open:!0,type:o,id:a,name:u})},Oe=async()=>{var o,a;if(!(!O.id||!O.type))try{switch(K(""),ke(""),O.type){case"consultation":await S.delete(`/consultations/${O.id}/permanent`),d("Konsultacja została trwale usunięta zgodnie z RODO");break;case"labResult":await S.delete(`/lab-results/${O.id}/permanent`),d("Wynik badania został trwale usunięty zgodnie z RODO");break;case"carePlan":await S.delete(`/care-plans/${O.id}/permanent`),d("Plan opieki został trwale usunięty zgodnie z RODO");break}re({open:!1,type:null,id:null,name:""}),M()}catch(u){h(((a=(o=u.response)==null?void 0:o.data)==null?void 0:a.error)||"Błąd podczas trwałego usuwania")}},Je=async()=>{var o,a;if(z.visitId){if(!z.recipientEmail){h("Podaj adres email odbiorcy");return}try{Me(!0),await S.post(`/visits/${z.visitId}/reminder`,{recipientEmail:z.recipientEmail,customMessage:z.customMessage||void 0}),d("Przypomnienie wysłane pomyślnie!"),D({open:!1,visitId:null,visitData:"",rodzajZabiegu:"",customMessage:"",recipientEmail:""})}catch(u){h(((a=(o=u.response)==null?void 0:o.data)==null?void 0:a.error)||"Błąd wysyłania przypomnienia")}finally{Me(!1)}}},Ze=o=>{D({open:!0,visitId:o.id,visitData:o.data,rodzajZabiegu:o.rodzajZabiegu,customMessage:"",recipientEmail:(s==null?void 0:s.email)||""})},Re=async(o,a,u)=>{var F,Z;if(!(s!=null&&s.email)){h("Pacjent nie ma zapisanego adresu email");return}try{w(!0);let C="";switch(o){case"consultation":C=`/email/consultation/${a}`;break;case"labResult":C=`/email/lab-result/${a}`;break;case"scalpPhoto":C=`/email/scalp-photo/${a}`;break;case"carePlan":C=`/email/care-plan/${a}`;break}await S.post(C,{recipientEmail:s.email}),d(`${u} wysłane na email pacjenta`)}catch(C){h(((Z=(F=C.response)==null?void 0:F.data)==null?void 0:Z.error)||"Błąd wysyłania emaila")}finally{w(!1)}},He=()=>{P({open:!0,mode:"add",id:null,data:Ro(new Date),rodzajZabiegu:"",notatki:"",status:"ZAPLANOWANA",numerWSerii:"",liczbaSerii:"",cena:""})},q=o=>{var a,u,F;P({open:!0,mode:"edit",id:o.id,data:Ro(o.data),rodzajZabiegu:o.rodzajZabiegu,notatki:o.notatki||"",status:o.status,numerWSerii:((a=o.numerWSerii)==null?void 0:a.toString())||"",liczbaSerii:((u=o.liczbaSerii)==null?void 0:u.toString())||"",cena:((F=o.cena)==null?void 0:F.toString())||""})},ae=async()=>{var o,a;if(!c.data||!c.rodzajZabiegu){h("Wypełnij wymagane pola: Data i Rodzaj zabiegu");return}try{const u={patientId:r,data:c.data,rodzajZabiegu:c.rodzajZabiegu,notatki:c.notatki||null,status:c.status,numerWSerii:c.numerWSerii?parseInt(c.numerWSerii):null,liczbaSerii:c.liczbaSerii?parseInt(c.liczbaSerii):null,cena:c.cena?parseFloat(c.cena):null};c.mode==="edit"&&c.id?(await S.put(`/visits/${c.id}`,u),d("Wizyta została zaktualizowana")):(await S.post("/visits",u),d("Wizyta została dodana")),P({open:!1,mode:"add",id:null,data:"",rodzajZabiegu:"",notatki:"",status:"ZAPLANOWANA",numerWSerii:"",liczbaSerii:"",cena:""}),M()}catch(u){h(((a=(o=u.response)==null?void 0:o.data)==null?void 0:a.error)||"Błąd podczas zapisywania wizyty")}},ce=async(o,a)=>{var u,F;try{await S.patch(`/visits/${o}/status`,{status:a}),d("Status wizyty został zmieniony"),M()}catch(Z){h(((F=(u=Z.response)==null?void 0:u.data)==null?void 0:F.error)||"Błąd zmiany statusu")}},Ue=(o,a)=>`${o.charAt(0)}${a.charAt(0)}`.toUpperCase();if(v)return e.jsx(p,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:e.jsx(Co,{size:48,thickness:3,sx:{color:"#1d1d1f"}})});if(!s&&!v&&je)return e.jsx(no,{maxWidth:"lg",sx:{pt:3},children:e.jsx(ko,{message:je,onRetry:M})});if(!s&&!v)return e.jsx(no,{maxWidth:"lg",children:e.jsx(ao,{severity:"error",children:"Pacjent nie znaleziony"})});const be=[{label:"Konsultacje",value:I.length,icon:Ao,color:"#007AFF"},{label:"Wyniki badań",value:L.length,icon:To,color:"#34C759"},{label:"Zdjęcia",value:N.length,icon:ho,color:"#FF9500"},{label:"Plany opieki",value:se.length,icon:Bo,color:"#FF3B30"},{label:"Wizyty",value:he.length,icon:Io,color:"#AF52DE"}];return e.jsxs(p,{sx:{bgcolor:"#f5f5f7",minHeight:"100vh",pb:6},children:[e.jsxs(no,{maxWidth:"lg",sx:{pt:3},children:[e.jsx(g,{startIcon:e.jsx(St,{}),onClick:()=>t("/patients"),sx:{mb:3,color:"#1d1d1f","&:hover":{bgcolor:m("#000",.05)}},children:"Powrót do listy pacjentów"}),je&&e.jsx(ko,{message:je,onRetry:M,onClose:()=>ye(null)}),e.jsxs(de,{elevation:0,sx:{p:4,mb:3,borderRadius:3,bgcolor:"white",border:"1px solid",borderColor:"divider"},children:[e.jsxs(p,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-start"},gap:{xs:2.5,md:4},mb:4,textAlign:{xs:"center",md:"left"}},children:[e.jsx(pt,{sx:{bgcolor:m("#007AFF",.1),color:"#007AFF",width:{xs:80,md:100},height:{xs:80,md:100},fontSize:{xs:"1.75rem",md:"2.5rem"},fontWeight:700,border:"2px solid",borderColor:m("#007AFF",.2)},children:Ue(s.firstName,s.lastName)}),e.jsxs(p,{sx:{flex:1,width:"100%"},children:[e.jsxs(b,{variant:"h3",sx:{fontWeight:800,color:"#1d1d1f",mb:2,fontSize:{xs:"1.75rem",md:"2.75rem"},lineHeight:1.2},children:[s.firstName," ",s.lastName]}),e.jsxs(p,{sx:{display:"flex",gap:1.5,flexWrap:"wrap",justifyContent:{xs:"center",md:"flex-start"},alignItems:"center"},children:[s.age&&e.jsx(so,{icon:e.jsx(Do,{sx:{fontSize:"14px !important"}}),label:`${s.age} lat`,size:"small",sx:{bgcolor:m("#007AFF",.08),color:"#007AFF",border:"none",fontWeight:600,px:.5}}),s.gender&&e.jsx(so,{label:s.gender==="MALE"?"Mężczyzna":s.gender==="FEMALE"?"Kobieta":"Inna",size:"small",sx:{bgcolor:s.gender==="MALE"?m("#007AFF",.08):m("#FF2D55",.08),color:s.gender==="MALE"?"#007AFF":"#FF2D55",border:"none",fontWeight:600,px:.5}})]})]})]}),e.jsxs(J,{container:!0,spacing:2,children:[e.jsx(J,{size:{xs:12,sm:4},children:e.jsx(g,{fullWidth:!0,variant:"contained",startIcon:e.jsx(ve,{}),onClick:()=>t(`/patients/${r}/consultations/new`),sx:{bgcolor:"#007AFF",color:"white",textTransform:"none",fontWeight:700,py:{xs:1.2,sm:1.5},borderRadius:2.5,boxShadow:`0 4px 14px ${m("#007AFF",.4)}`,"&:hover":{bgcolor:"#0051D5",boxShadow:`0 6px 20px ${m("#007AFF",.5)}`}},children:"Nowa konsultacja"})}),e.jsx(J,{size:{xs:12,sm:4},children:e.jsx(g,{fullWidth:!0,variant:"outlined",startIcon:e.jsx(Ye,{}),onClick:()=>t(`/patients/${r}/edit`),sx:{borderColor:m("#1d1d1f",.15),color:"#1d1d1f",textTransform:"none",fontWeight:600,py:{xs:1.2,sm:1.5},borderRadius:2.5,"&:hover":{borderColor:"#1d1d1f",bgcolor:m("#000",.02)}},children:"Edytuj dane"})}),s.email&&e.jsx(J,{size:{xs:12,sm:4},children:e.jsx(g,{fullWidth:!0,variant:"outlined",startIcon:e.jsx(Te,{}),onClick:()=>t(`/patients/${r}/email`),sx:{borderColor:m("#1d1d1f",.15),color:"#1d1d1f",textTransform:"none",fontWeight:600,py:{xs:1.2,sm:1.5},borderRadius:2.5,"&:hover":{borderColor:"#1d1d1f",bgcolor:m("#000",.02)}},children:"Email"})})]})]}),e.jsx(J,{container:!0,spacing:3,sx:{mb:4},children:be.map((o,a)=>{const u=W===a+1;return e.jsx(J,{size:{xs:6,md:3},children:e.jsxs(de,{elevation:0,onClick:()=>$(a+1),sx:{p:{xs:2,sm:3},borderRadius:4,bgcolor:"white",border:"1px solid",borderColor:u?o.color:"divider",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:u?`0 8px 24px ${m(o.color,.15)}`:"none",position:"relative",overflow:"hidden","&:hover":{borderColor:o.color,transform:"translateY(-4px)",boxShadow:`0 12px 30px ${m(o.color,.12)}`},"&::before":u?{content:'""',position:"absolute",top:0,left:0,width:4,height:"100%",bgcolor:o.color}:{}},children:[e.jsx(p,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:e.jsx(p,{sx:{width:44,height:44,borderRadius:2.5,bgcolor:m(o.color,.1),display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(o.icon,{sx:{color:o.color,fontSize:24}})})}),e.jsx(b,{variant:"h3",sx:{fontWeight:800,color:"#1d1d1f",mb:.5,fontSize:{xs:"1.75rem",md:"2.25rem"}},children:o.value}),e.jsx(b,{variant:"body2",sx:{color:"#86868b",fontSize:"0.875rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.02em"},children:o.label})]})},a)})}),e.jsxs(de,{elevation:0,sx:{borderRadius:3,bgcolor:"white",border:"1px solid",borderColor:"divider",overflow:"hidden"},children:[e.jsxs(qt,{value:W,onChange:(o,a)=>$(a),variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,sx:{borderBottom:"1px solid",borderColor:"divider",px:{xs:1,sm:2},"& .MuiTab-root":{textTransform:"none",fontWeight:700,fontSize:{xs:"0.9rem",sm:"1rem"},color:"#86868b",minHeight:{xs:56,sm:64},minWidth:{xs:100,sm:120},"&.Mui-selected":{color:"#007AFF"}},"& .MuiTabs-indicator":{height:3,borderRadius:"3px 3px 0 0",bgcolor:"#007AFF"}},children:[e.jsx(ze,{label:"Przegląd"}),e.jsx(ze,{label:"Konsultacje"}),e.jsx(ze,{label:"Wyniki"}),e.jsx(ze,{label:"Zdjęcia"}),e.jsx(ze,{label:"Plany"}),e.jsx(ze,{label:"Wizyty"})]}),e.jsx(Ce,{value:W,index:0,children:e.jsxs(J,{container:!0,spacing:3,children:[e.jsx(J,{size:{xs:12,md:6},children:e.jsxs(p,{sx:{mb:3},children:[e.jsx(b,{variant:"h6",sx:{fontWeight:700,color:"#1d1d1f",mb:3},children:"Informacje kontaktowe"}),e.jsxs(Q,{spacing:4,children:[s.phone&&e.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(p,{sx:{width:48,height:48,borderRadius:2,bgcolor:m("#007AFF",.1),display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(ft,{sx:{color:"#007AFF",fontSize:24}})}),e.jsxs(p,{children:[e.jsx(b,{variant:"caption",sx:{color:"#86868b",fontWeight:500,fontSize:"0.8rem",mb:.5,display:"block"},children:"Telefon"}),e.jsx(b,{variant:"body1",sx:{fontWeight:600,color:"#1d1d1f",fontSize:"1.1rem"},children:s.phone})]})]}),s.email&&e.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(p,{sx:{width:48,height:48,borderRadius:2,bgcolor:m("#34C759",.1),display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(Te,{sx:{color:"#34C759",fontSize:24}})}),e.jsxs(p,{sx:{minWidth:0,flex:1},children:[e.jsx(b,{variant:"caption",sx:{color:"#86868b",fontWeight:500,fontSize:"0.8rem",mb:.5,display:"block"},children:"Email"}),e.jsx(b,{variant:"body1",sx:{fontWeight:600,color:"#1d1d1f",fontSize:"1.1rem",wordBreak:"break-word"},children:s.email})]})]}),s.address&&e.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(p,{sx:{width:48,height:48,borderRadius:2,bgcolor:m("#FF9500",.1),display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(Jt,{sx:{color:"#FF9500",fontSize:24}})}),e.jsxs(p,{sx:{minWidth:0,flex:1},children:[e.jsx(b,{variant:"caption",sx:{color:"#86868b",fontWeight:500,fontSize:"0.8rem",mb:.5,display:"block"},children:"Adres"}),e.jsx(b,{variant:"body1",sx:{fontWeight:600,color:"#1d1d1f",fontSize:"1.1rem",wordBreak:"break-word"},children:s.address})]})]})]})]})}),e.jsx(J,{size:{xs:12,md:6},children:e.jsxs(p,{sx:{mb:3},children:[e.jsx(b,{variant:"h6",sx:{fontWeight:700,color:"#1d1d1f",mb:3},children:"Dodatkowe informacje"}),e.jsx(Q,{spacing:4,children:s.occupation&&e.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(p,{sx:{width:48,height:48,borderRadius:2,bgcolor:m("#FF3B30",.1),display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(Qt,{sx:{color:"#FF3B30",fontSize:24}})}),e.jsxs(p,{children:[e.jsx(b,{variant:"caption",sx:{color:"#86868b",fontWeight:500,fontSize:"0.8rem",mb:.5,display:"block"},children:"Zawód"}),e.jsx(b,{variant:"body1",sx:{fontWeight:600,color:"#1d1d1f",fontSize:"1.1rem"},children:s.occupation})]})]})})]})})]})}),e.jsxs(Ce,{value:W,index:1,children:[e.jsxs(p,{sx:{mb:3,display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(g,{variant:"contained",startIcon:e.jsx(ve,{}),onClick:()=>t(`/patients/${r}/consultations/new`),sx:{bgcolor:"#007AFF",color:"white",textTransform:"none",fontWeight:600,borderRadius:2,boxShadow:"none","&:hover":{bgcolor:"#0051D5",boxShadow:"none"}},children:"Nowa konsultacja"}),e.jsx(g,{variant:y.consultations?"contained":"outlined",startIcon:e.jsx(io,{}),onClick:()=>{pe(o=>({...o,consultations:!o.consultations}))},sx:{borderColor:"#d2d2d7",color:y.consultations?"white":"#1d1d1f",bgcolor:y.consultations?"#007AFF":"transparent",textTransform:"none",fontWeight:600,borderRadius:2,boxShadow:"none","&:hover":{borderColor:"#1d1d1f",bgcolor:y.consultations?"#0051D5":m("#000",.02),boxShadow:"none"}},children:y.consultations?"Pokaż aktywne":"Pokaż zarchiwizowane"})]}),I.length===0?e.jsxs(p,{sx:{textAlign:"center",py:8},children:[e.jsx(Ao,{sx:{fontSize:64,color:"#d2d2d7",mb:2}}),e.jsx(b,{variant:"h6",sx:{color:"#86868b",fontWeight:500},children:"Brak konsultacji"})]}):e.jsx(Q,{spacing:3,children:I.map(o=>e.jsx(de,{elevation:0,sx:{p:3,borderRadius:2,border:"1px solid",borderColor:"divider",transition:"all 0.2s","&:hover":{borderColor:"#007AFF",transform:"translateY(-2px)"}},children:e.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:2},children:[e.jsxs(p,{sx:{flex:1},children:[e.jsx(b,{variant:"h6",sx:{fontWeight:700,color:"#1d1d1f",mb:1,fontSize:"1.15rem"},children:new Date(o.consultationDate).toLocaleDateString("pl-PL",{year:"numeric",month:"long",day:"numeric"})}),o.diagnosis&&e.jsx(b,{variant:"body2",sx:{color:"#86868b",fontSize:"0.95rem",lineHeight:1.6},children:o.diagnosis})]}),e.jsxs(Q,{direction:"row",spacing:1,children:[e.jsx(g,{size:"small",variant:"outlined",onClick:()=>t(`/consultations/${o.id}`),sx:{borderColor:"#d2d2d7",color:"#1d1d1f",textTransform:"none",fontWeight:600,borderRadius:1.5,"&:hover":{borderColor:"#1d1d1f",bgcolor:m("#000",.02)}},children:"Zobacz"}),s.email&&e.jsx(g,{size:"small",variant:"contained",startIcon:e.jsx(Te,{}),onClick:()=>Re("consultation",o.id,"Konsultacja"),disabled:v,sx:{bgcolor:"#007AFF",color:"white",textTransform:"none",fontWeight:600,borderRadius:1.5,boxShadow:"none","&:hover":{bgcolor:"#0051D5",boxShadow:"none"}},children:"Wyślij"}),y.consultations?e.jsxs(e.Fragment,{children:[e.jsx(Y,{size:"small",onClick:()=>Pe("consultation",o.id,"Konsultacja"),sx:{color:"#34C759"},children:e.jsx(co,{})}),e.jsx(Y,{size:"small",onClick:()=>Fe("consultation",o.id,"Konsultacja"),sx:{color:"#FF3B30"},children:e.jsx(to,{})})]}):e.jsx(Y,{size:"small",onClick:()=>V("consultation",o.id,"Konsultacja"),sx:{color:"#FF3B30"},children:e.jsx(Be,{})})]})]})},o.id))})]}),e.jsxs(Ce,{value:W,index:2,children:[e.jsxs(p,{sx:{mb:3,display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(g,{variant:"contained",startIcon:e.jsx(ve,{}),onClick:()=>t(`/patients/${r}/lab-results/new`),sx:{bgcolor:"#007AFF",color:"white",textTransform:"none",fontWeight:600,borderRadius:2,boxShadow:"none","&:hover":{bgcolor:"#0051D5",boxShadow:"none"}},children:"Nowy wynik badania"}),e.jsx(g,{variant:y.labResults?"contained":"outlined",startIcon:e.jsx(io,{}),onClick:()=>{pe(o=>({...o,labResults:!o.labResults}))},sx:{borderColor:"#d2d2d7",color:y.labResults?"white":"#1d1d1f",bgcolor:y.labResults?"#007AFF":"transparent",textTransform:"none",fontWeight:600,borderRadius:2,boxShadow:"none","&:hover":{borderColor:"#1d1d1f",bgcolor:y.labResults?"#0051D5":m("#000",.02),boxShadow:"none"}},children:y.labResults?"Pokaż aktywne":"Pokaż zarchiwizowane"})]}),L.length===0?e.jsxs(p,{sx:{textAlign:"center",py:8},children:[e.jsx(To,{sx:{fontSize:64,color:"#d2d2d7",mb:2}}),e.jsx(b,{variant:"h6",sx:{color:"#86868b",fontWeight:500},children:"Brak wyników badań"})]}):e.jsx(Q,{spacing:2,children:L.map(o=>e.jsx(de,{elevation:0,sx:{p:3,borderRadius:2,border:"1px solid",borderColor:"divider",transition:"all 0.2s","&:hover":{borderColor:"#34C759",transform:"translateY(-2px)"}},children:e.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:2},children:[e.jsxs(p,{sx:{flex:1,cursor:"pointer"},onClick:()=>t(`/patients/${r}/lab-results/${o.id}`),children:[e.jsx(b,{variant:"h6",sx:{fontWeight:700,color:"#1d1d1f",mb:1,fontSize:"1.15rem"},children:o.testName||"Wynik badania"}),e.jsx(b,{variant:"body2",sx:{color:"#86868b",fontSize:"0.95rem"},children:new Date(o.date||o.testDate).toLocaleDateString("pl-PL",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs(Q,{direction:"row",spacing:1,children:[e.jsx(g,{size:"small",variant:"outlined",startIcon:e.jsx(Eo,{}),onClick:()=>t(`/patients/${r}/lab-results/${o.id}`),sx:{borderColor:"#d2d2d7",color:"#1d1d1f",textTransform:"none",fontWeight:600,borderRadius:1.5,"&:hover":{borderColor:"#1d1d1f",bgcolor:m("#000",.02)}},children:"Zobacz"}),e.jsx(g,{size:"small",variant:"outlined",startIcon:e.jsx(Ye,{}),onClick:()=>t(`/patients/${r}/lab-results/${o.id}/edit`),sx:{borderColor:"#d2d2d7",color:"#1d1d1f",textTransform:"none",fontWeight:600,borderRadius:1.5,"&:hover":{borderColor:"#1d1d1f",bgcolor:m("#000",.02)}},children:"Edytuj"}),e.jsx(g,{size:"small",variant:"outlined",startIcon:e.jsx($o,{}),onClick:async()=>{var a,u;try{const F=await S.get(`/lab-results/${o.id}/pdf`,{responseType:"blob"}),Z=window.URL.createObjectURL(new Blob([F.data])),C=document.createElement("a");C.href=Z,C.setAttribute("download",`wynik-badan-${o.id}.pdf`),document.body.appendChild(C),C.click(),C.remove(),window.URL.revokeObjectURL(Z),d("PDF pobrany pomyślnie")}catch(F){h(((u=(a=F.response)==null?void 0:a.data)==null?void 0:u.error)||"Błąd pobierania PDF")}},sx:{borderColor:"#d2d2d7",color:"#1d1d1f",textTransform:"none",fontWeight:600,borderRadius:1.5,"&:hover":{borderColor:"#1d1d1f",bgcolor:m("#000",.02)}},children:"PDF"}),s.email&&e.jsx(g,{size:"small",variant:"contained",startIcon:e.jsx(Te,{}),onClick:()=>Re("labResult",o.id,"Wynik badania"),disabled:v,sx:{bgcolor:"#007AFF",color:"white",textTransform:"none",fontWeight:600,borderRadius:1.5,boxShadow:"none","&:hover":{bgcolor:"#0051D5",boxShadow:"none"}},children:"Wyślij"}),y.labResults?e.jsxs(e.Fragment,{children:[e.jsx(Y,{size:"small",onClick:()=>Pe("labResult",o.id,"Wynik badania"),sx:{color:"#34C759"},children:e.jsx(co,{})}),e.jsx(Y,{size:"small",onClick:()=>Fe("labResult",o.id,"Wynik badania"),sx:{color:"#FF3B30"},children:e.jsx(to,{})})]}):e.jsx(Y,{size:"small",onClick:()=>V("labResult",o.id,"Wynik badania"),sx:{color:"#FF3B30"},children:e.jsx(Be,{})})]})]})},o.id))})]}),e.jsxs(Ce,{value:W,index:3,children:[e.jsx(p,{sx:{mb:3},children:e.jsx(g,{variant:"contained",startIcon:e.jsx(ve,{}),onClick:()=>t(`/patients/${r}/scalp-photos/new`),sx:{bgcolor:"#007AFF",color:"white",textTransform:"none",fontWeight:600,borderRadius:2,boxShadow:"none","&:hover":{bgcolor:"#0051D5",boxShadow:"none"}},children:"Dodaj zdjęcie"})}),N.length===0?e.jsxs(p,{sx:{textAlign:"center",py:8},children:[e.jsx(ho,{sx:{fontSize:64,color:"#d2d2d7",mb:2}}),e.jsx(b,{variant:"h6",sx:{color:"#86868b",fontWeight:500},children:"Brak zdjęć"})]}):e.jsx(J,{container:!0,spacing:2,children:N.map(o=>e.jsx(J,{size:{xs:12,sm:6,md:4},children:e.jsxs(de,{elevation:0,sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"divider",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{borderColor:"#FF9500",transform:"translateY(-4px)",boxShadow:"0 12px 30px rgba(0,0,0,0.08)"}},children:[e.jsx(p,{onClick:()=>t(`/scalp-photos/${o.id}`),sx:{width:"100%",height:200,bgcolor:"#f5f5f7",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",overflow:"hidden"},children:o.url||o.filePath?e.jsx("img",{src:o.url||(o.filePath?`/uploads/${o.filePath.split(/[/\\]/).pop()}`:""),alt:"Zdjęcie skóry głowy",style:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.5s ease"},onMouseEnter:a=>a.currentTarget.style.transform="scale(1.05)",onMouseLeave:a=>a.currentTarget.style.transform="scale(1)",onError:a=>{const u=a.target;console.error("Błąd ładowania obrazu:",{src:u.src,photoUrl:o.url,filePath:o.filePath}),u.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200"%3E%3Crect fill="%23ddd" width="200" height="200"/%3E%3Ctext fill="%23999" font-family="sans-serif" font-size="14" dy="10.5" font-weight="bold" x="50%25" y="50%25" text-anchor="middle"%3EBrak zdj%26%23381%3Bcia%3C/text%3E%3C/svg%3E'}}):e.jsx(ho,{sx:{fontSize:48,color:"#d2d2d7"}})}),e.jsxs(p,{sx:{p:2},children:[e.jsxs(b,{variant:"body2",sx:{color:"#86868b",mb:1.5,fontWeight:700,display:"flex",alignItems:"center",gap:1},children:[e.jsx(Do,{sx:{fontSize:14}}),(()=>{const a=o.date||o.createdAt||o.photoDate;return a?new Date(a).toLocaleDateString("pl-PL"):"Brak daty"})()]}),e.jsxs(Q,{direction:"row",spacing:1,children:[e.jsx(g,{size:"small",variant:"outlined",fullWidth:!0,onClick:()=>t(`/scalp-photos/${o.id}`),sx:{borderColor:"#d2d2d7",color:"#1d1d1f",textTransform:"none",fontWeight:700,borderRadius:1.5,"&:hover":{borderColor:"#1d1d1f",bgcolor:m("#000",.02)}},children:"Zobacz"}),e.jsx(Y,{size:"small",onClick:()=>V("scalpPhoto",o.id,"Zdjęcie"),sx:{color:"#FF3B30",bgcolor:m("#FF3B30",.05),"&:hover":{bgcolor:m("#FF3B30",.1)}},children:e.jsx(Be,{})})]})]})]})},o.id))})]}),e.jsxs(Ce,{value:W,index:4,children:[e.jsxs(p,{sx:{mb:3,display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(g,{variant:"contained",startIcon:e.jsx(ve,{}),onClick:()=>t(`/patients/${r}/care-plans/new`),sx:{bgcolor:"#007AFF",color:"white",textTransform:"none",fontWeight:600,borderRadius:2,boxShadow:"none","&:hover":{bgcolor:"#0051D5",boxShadow:"none"}},children:"Nowy plan opieki"}),e.jsx(g,{variant:y.carePlans?"contained":"outlined",startIcon:e.jsx(io,{}),onClick:()=>{pe(o=>({...o,carePlans:!o.carePlans}))},sx:{borderColor:"#d2d2d7",color:y.carePlans?"white":"#1d1d1f",bgcolor:y.carePlans?"#007AFF":"transparent",textTransform:"none",fontWeight:600,borderRadius:2,boxShadow:"none","&:hover":{borderColor:"#1d1d1f",bgcolor:y.carePlans?"#0051D5":m("#000",.02),boxShadow:"none"}},children:y.carePlans?"Pokaż aktywne":"Pokaż zarchiwizowane"})]}),se.length===0?e.jsxs(p,{sx:{textAlign:"center",py:8},children:[e.jsx(Bo,{sx:{fontSize:64,color:"#d2d2d7",mb:2}}),e.jsx(b,{variant:"h6",sx:{color:"#86868b",fontWeight:500},children:"Brak planów opieki"})]}):e.jsx(Q,{spacing:2,children:se.map(o=>e.jsx(de,{elevation:0,sx:{p:3,borderRadius:2,border:"1px solid",borderColor:"divider",transition:"all 0.2s","&:hover":{borderColor:"#FF3B30",transform:"translateY(-2px)"}},children:e.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:2},children:[e.jsxs(p,{sx:{flex:1},children:[e.jsx(b,{variant:"h6",sx:{fontWeight:700,color:"#1d1d1f",mb:1},children:o.title||"Plan opieki"}),o.description&&e.jsx(b,{variant:"body2",sx:{color:"#86868b"},children:o.description})]}),e.jsxs(Q,{direction:"row",spacing:1,flexWrap:"wrap",children:[e.jsx(g,{size:"small",variant:"outlined",startIcon:e.jsx(Eo,{}),onClick:()=>t(`/patients/${r}/care-plans/${o.id}`),sx:{borderColor:"#d2d2d7",color:"#1d1d1f",textTransform:"none",fontWeight:600,borderRadius:1.5,"&:hover":{borderColor:"#1d1d1f",bgcolor:m("#000",.02)}},children:"Zobacz"}),e.jsx(g,{size:"small",variant:"outlined",startIcon:e.jsx(Ye,{}),onClick:()=>t(`/patients/${r}/care-plans/${o.id}/edit`),sx:{borderColor:"#d2d2d7",color:"#1d1d1f",textTransform:"none",fontWeight:600,borderRadius:1.5,"&:hover":{borderColor:"#1d1d1f",bgcolor:m("#000",.02)}},children:"Edytuj"}),e.jsx(g,{size:"small",variant:"outlined",startIcon:e.jsx($o,{}),onClick:async()=>{var a,u;try{const F=await S.get(`/care-plans/${o.id}/pdf`,{responseType:"blob"}),Z=window.URL.createObjectURL(new Blob([F.data])),C=document.createElement("a");C.href=Z,C.setAttribute("download",`plan-opieki-${o.id}.pdf`),document.body.appendChild(C),C.click(),C.remove(),window.URL.revokeObjectURL(Z),d("PDF pobrany pomyślnie")}catch(F){h(((u=(a=F.response)==null?void 0:a.data)==null?void 0:u.error)||"Błąd pobierania PDF")}},sx:{borderColor:"#d2d2d7",color:"#1d1d1f",textTransform:"none",fontWeight:600,borderRadius:1.5,"&:hover":{borderColor:"#1d1d1f",bgcolor:m("#000",.02)}},children:"PDF"}),s.email&&e.jsx(g,{size:"small",variant:"contained",startIcon:e.jsx(Te,{}),onClick:()=>Re("carePlan",o.id,"Plan opieki"),disabled:v,sx:{bgcolor:"#007AFF",color:"white",textTransform:"none",fontWeight:600,borderRadius:1.5,boxShadow:"none","&:hover":{bgcolor:"#0051D5",boxShadow:"none"}},children:"Wyślij"}),y.carePlans?e.jsxs(e.Fragment,{children:[e.jsx(Y,{size:"small",onClick:()=>Pe("carePlan",o.id,"Plan opieki"),sx:{color:"#34C759"},children:e.jsx(co,{})}),e.jsx(Y,{size:"small",onClick:()=>Fe("carePlan",o.id,"Plan opieki"),sx:{color:"#FF3B30"},children:e.jsx(to,{})})]}):e.jsx(Y,{size:"small",onClick:()=>V("carePlan",o.id,"Plan opieki"),sx:{color:"#FF3B30"},children:e.jsx(Be,{})})]})]})},o.id))})]}),e.jsxs(Ce,{value:W,index:5,children:[e.jsx(p,{sx:{mb:3},children:e.jsx(g,{variant:"contained",startIcon:e.jsx(ve,{}),onClick:He,sx:{bgcolor:"#AF52DE",color:"white",textTransform:"none",fontWeight:600,borderRadius:2,boxShadow:"none","&:hover":{bgcolor:"#9B30D9",boxShadow:"none"}},children:"Dodaj wizytę / zabieg"})}),he.length===0?e.jsxs(p,{sx:{textAlign:"center",py:8},children:[e.jsx(Io,{sx:{fontSize:64,color:"#d2d2d7",mb:2}}),e.jsx(b,{variant:"h6",sx:{color:"#86868b",fontWeight:500},children:"Brak wizyt i zabiegów"})]}):e.jsx(Ct,{component:de,elevation:0,sx:{border:"1px solid",borderColor:"divider",borderRadius:2},children:e.jsxs(kt,{children:[e.jsx(Wt,{children:e.jsxs(Mo,{sx:{bgcolor:m("#000",.02)},children:[e.jsx(H,{sx:{fontWeight:700,color:"#1d1d1f"},children:"Data i godzina"}),e.jsx(H,{sx:{fontWeight:700,color:"#1d1d1f"},children:"Rodzaj zabiegu"}),e.jsx(H,{sx:{fontWeight:700,color:"#1d1d1f"},children:"Status"}),e.jsx(H,{sx:{fontWeight:700,color:"#1d1d1f"},children:"Seria"}),e.jsx(H,{sx:{fontWeight:700,color:"#1d1d1f"},children:"Cena"}),e.jsx(H,{sx:{fontWeight:700,color:"#1d1d1f"},children:"Notatki"}),e.jsx(H,{align:"right",sx:{fontWeight:700,color:"#1d1d1f"},children:"Akcje"})]})}),e.jsx(Pt,{children:he.map(o=>{const a=Wo[o.status]||Wo.ZAPLANOWANA;return e.jsxs(Mo,{hover:!0,children:[e.jsxs(H,{children:[e.jsx(b,{variant:"body2",sx:{fontWeight:600},children:mt(o.data)}),e.jsx(b,{variant:"caption",sx:{color:"#86868b"},children:gt(o.data)})]}),e.jsx(H,{children:e.jsx(b,{variant:"body2",sx:{fontWeight:500},children:o.rodzajZabiegu})}),e.jsx(H,{children:e.jsx(Ge,{size:"small",sx:{minWidth:130},children:e.jsxs(Xe,{value:o.status,onChange:u=>ce(o.id,u.target.value),sx:{bgcolor:a.bgColor,color:a.color,fontWeight:600,fontSize:"0.85rem","& .MuiOutlinedInput-notchedOutline":{borderColor:a.color},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:a.color}},children:[e.jsx(oe,{value:"ZAPLANOWANA",children:"Zaplanowana"}),e.jsx(oe,{value:"ODBYTA",children:"Odbyta"}),e.jsx(oe,{value:"NIEOBECNOSC",children:"Nieobecność"}),e.jsx(oe,{value:"ANULOWANA",children:"Anulowana"})]})})}),e.jsx(H,{children:o.numerWSerii&&o.liczbaSerii?e.jsx(so,{label:`${o.numerWSerii} z ${o.liczbaSerii}`,size:"small",sx:{bgcolor:m("#007AFF",.1),color:"#007AFF",fontWeight:600}}):e.jsx(b,{variant:"body2",sx:{color:"#86868b"},children:"-"})}),e.jsx(H,{children:o.cena?e.jsxs(b,{variant:"body2",sx:{fontWeight:600,color:"#34C759"},children:[Number(o.cena).toFixed(2)," zł"]}):e.jsx(b,{variant:"body2",sx:{color:"#86868b"},children:"-"})}),e.jsx(H,{children:o.notatki?e.jsx(Lo,{title:o.notatki,arrow:!0,children:e.jsx(b,{variant:"body2",sx:{maxWidth:150,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"#86868b",cursor:"pointer"},children:o.notatki})}):e.jsx(b,{variant:"body2",sx:{color:"#86868b"},children:"-"})}),e.jsx(H,{align:"right",children:e.jsxs(Q,{direction:"row",spacing:.5,justifyContent:"flex-end",children:[o.status==="ZAPLANOWANA"&&(s==null?void 0:s.email)&&e.jsx(Lo,{title:"Wyślij przypomnienie",children:e.jsx(Y,{size:"small",onClick:()=>Ze(o),sx:{color:"#FF9500"},children:e.jsx(Ft,{fontSize:"small"})})}),e.jsx(Y,{size:"small",onClick:()=>q(o),sx:{color:"#007AFF"},children:e.jsx(Ye,{fontSize:"small"})}),e.jsx(Y,{size:"small",onClick:()=>V("visit",o.id,o.rodzajZabiegu),sx:{color:"#FF3B30"},children:e.jsx(Be,{fontSize:"small"})})]})})]},o.id)})})]})})]})]})]}),e.jsxs(Ie,{open:c.open,onClose:()=>P({...c,open:!1}),maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,p:1}},children:[e.jsx(De,{sx:{fontWeight:700,color:"#1d1d1f"},children:c.mode==="edit"?"Edytuj wizytę / zabieg":"Dodaj nową wizytę / zabieg"}),e.jsx(Ee,{children:e.jsxs(Q,{spacing:3,sx:{mt:1},children:[e.jsx(ue,{label:"Data wizyty",type:"date",value:ro(c.data),onChange:o=>P({...c,data:`${o.target.value}T${jt(c.data)}`}),fullWidth:!0,required:!0,InputLabelProps:{shrink:!0}}),e.jsxs(Ge,{fullWidth:!0,required:!0,children:[e.jsx(uo,{children:"Godzina (24h)"}),e.jsx(Xe,{value:Po(c.data),onChange:o=>P({...c,data:`${ro(c.data)}T${o.target.value.padStart(2,"0")}:${Fo(c.data)}`}),label:"Godzina (24h)",children:yt.map(o=>e.jsx(oe,{value:o,children:o},o))})]}),e.jsxs(Ge,{fullWidth:!0,required:!0,children:[e.jsx(uo,{children:"Minuta (00, 15, 30, 45)"}),e.jsx(Xe,{value:Fo(c.data),onChange:o=>P({...c,data:`${ro(c.data)}T${Po(c.data).padStart(2,"0")}:${o.target.value}`}),label:"Minuta (00, 15, 30, 45)",children:wt.map(o=>e.jsx(oe,{value:o,children:o},o))})]}),e.jsx(ue,{label:"Rodzaj zabiegu",value:c.rodzajZabiegu,onChange:o=>P({...c,rodzajZabiegu:o.target.value}),fullWidth:!0,required:!0,placeholder:"np. Mezoterapia, PRP, Konsultacja kontrolna"}),e.jsxs(Ge,{fullWidth:!0,children:[e.jsx(uo,{children:"Status"}),e.jsxs(Xe,{value:c.status,label:"Status",onChange:o=>P({...c,status:o.target.value}),children:[e.jsx(oe,{value:"ZAPLANOWANA",children:"Zaplanowana"}),e.jsx(oe,{value:"ODBYTA",children:"Odbyta"}),e.jsx(oe,{value:"NIEOBECNOSC",children:"Nieobecność"}),e.jsx(oe,{value:"ANULOWANA",children:"Anulowana"})]})]}),e.jsx(ue,{label:"Cena (PLN)",type:"number",value:c.cena,onChange:o=>P({...c,cena:o.target.value}),fullWidth:!0,InputProps:{startAdornment:e.jsx(Rt,{position:"start",children:"PLN"})}}),e.jsxs(p,{sx:{display:"flex",gap:2},children:[e.jsx(ue,{label:"Numer w serii",type:"number",value:c.numerWSerii,onChange:o=>P({...c,numerWSerii:o.target.value}),fullWidth:!0,placeholder:"np. 3"}),e.jsx(ue,{label:"Liczba zabiegów w serii",type:"number",value:c.liczbaSerii,onChange:o=>P({...c,liczbaSerii:o.target.value}),fullWidth:!0,placeholder:"np. 6"})]}),c.numerWSerii&&c.liczbaSerii&&e.jsxs(ao,{severity:"info",sx:{borderRadius:2},children:["Zabieg ",c.numerWSerii," z ",c.liczbaSerii]}),e.jsx(ue,{label:"Notatki",value:c.notatki,onChange:o=>P({...c,notatki:o.target.value}),fullWidth:!0,multiline:!0,rows:3})]})}),e.jsxs($e,{sx:{p:2},children:[e.jsx(g,{onClick:()=>P({...c,open:!1}),sx:{color:"#1d1d1f",textTransform:"none",fontWeight:600},children:"Anuluj"}),e.jsx(g,{onClick:ae,variant:"contained",sx:{bgcolor:"#AF52DE",color:"white",textTransform:"none",fontWeight:600,boxShadow:"none","&:hover":{bgcolor:"#9B30D9",boxShadow:"none"}},children:c.mode==="edit"?"Zapisz zmiany":"Dodaj wizytę"})]})]}),e.jsxs(Ie,{open:B.open,onClose:We,PaperProps:{sx:{borderRadius:3,p:1}},children:[e.jsx(De,{sx:{fontWeight:700,color:"#1d1d1f"},children:"Potwierdź usunięcie"}),e.jsx(Ee,{children:e.jsxs(lo,{sx:{color:"#86868b"},children:["Czy na pewno chcesz usunąć: ",B.name,"?"]})}),e.jsxs($e,{sx:{p:2},children:[e.jsx(g,{onClick:We,sx:{color:"#1d1d1f",textTransform:"none",fontWeight:600},children:"Anuluj"}),e.jsx(g,{onClick:Le,variant:"contained",sx:{bgcolor:"#FF3B30",color:"white",textTransform:"none",fontWeight:600,boxShadow:"none","&:hover":{bgcolor:"#D70015",boxShadow:"none"}},children:"Usuń"})]})]}),e.jsxs(Ie,{open:A.open,onClose:()=>E({open:!1,type:null,id:null,name:""}),PaperProps:{sx:{borderRadius:3,p:1}},children:[e.jsx(De,{sx:{fontWeight:700,color:"#1d1d1f"},children:"Potwierdź przywrócenie"}),e.jsx(Ee,{children:e.jsxs(lo,{sx:{color:"#86868b"},children:["Czy na pewno chcesz przywrócić: ",A.name,"?"]})}),e.jsxs($e,{sx:{p:2},children:[e.jsx(g,{onClick:()=>E({open:!1,type:null,id:null,name:""}),sx:{color:"#1d1d1f",textTransform:"none",fontWeight:600},children:"Anuluj"}),e.jsx(g,{onClick:Ne,variant:"contained",sx:{bgcolor:"#34C759",color:"white",textTransform:"none",fontWeight:600,boxShadow:"none","&:hover":{bgcolor:"#248A3D",boxShadow:"none"}},children:"Przywróć"})]})]}),e.jsxs(Ie,{open:O.open,onClose:()=>re({open:!1,type:null,id:null,name:""}),PaperProps:{sx:{borderRadius:3,p:1}},children:[e.jsx(De,{sx:{fontWeight:700,color:"#FF3B30"},children:"Trwałe usunięcie"}),e.jsx(Ee,{children:e.jsxs(lo,{sx:{color:"#86868b"},children:["UWAGA: Ta operacja jest nieodwracalna. Czy na pewno chcesz trwale usunąć: ",O.name,"?"]})}),e.jsxs($e,{sx:{p:2},children:[e.jsx(g,{onClick:()=>re({open:!1,type:null,id:null,name:""}),sx:{color:"#1d1d1f",textTransform:"none",fontWeight:600},children:"Anuluj"}),e.jsx(g,{onClick:Oe,variant:"contained",sx:{bgcolor:"#FF3B30",color:"white",textTransform:"none",fontWeight:600,boxShadow:"none","&:hover":{bgcolor:"#D70015",boxShadow:"none"}},children:"Usuń trwale"})]})]}),e.jsxs(Ie,{open:z.open,onClose:()=>D({...z,open:!1}),maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,p:1}},children:[e.jsx(De,{sx:{fontWeight:600,pb:2},children:"Wyślij przypomnienie o wizycie"}),e.jsxs(Ee,{children:[e.jsxs(p,{sx:{mb:2},children:[e.jsx(b,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Wizyta:"}),e.jsx(b,{variant:"h6",sx:{fontWeight:600,mb:1},children:z.rodzajZabiegu}),e.jsx(b,{variant:"body2",color:"text.secondary",children:z.visitData?new Date(z.visitData).toLocaleString("pl-PL",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""})]}),e.jsx(ue,{fullWidth:!0,label:"Adres email odbiorcy",type:"email",value:z.recipientEmail,onChange:o=>D({...z,recipientEmail:o.target.value}),required:!0,sx:{mb:2},helperText:!(s!=null&&s.email)&&"Pacjent nie ma zapisanego adresu email"}),e.jsx(ue,{fullWidth:!0,label:"Dodatkowa wiadomość (opcjonalnie)",multiline:!0,rows:4,value:z.customMessage,onChange:o=>D({...z,customMessage:o.target.value}),placeholder:"Dodaj dodatkową wiadomość do przypomnienia...",sx:{mb:2}}),e.jsx(ao,{severity:"info",sx:{mt:2},children:"Pacjent otrzyma email z przypomnieniem oraz możliwością zapisania wizyty do kalendarza (Google Calendar, Outlook, lub plik .ics)."})]}),e.jsxs($e,{sx:{p:2,pt:1},children:[e.jsx(g,{onClick:()=>D({...z,open:!1}),disabled:ie,children:"Anuluj"}),e.jsx(g,{onClick:Je,variant:"contained",startIcon:ie?e.jsx(Co,{size:20}):e.jsx(At,{}),disabled:ie||!z.recipientEmail,sx:{bgcolor:"#FF9500","&:hover":{bgcolor:"#E68900"}},children:ie?"Wysyłanie...":"Wyślij przypomnienie"})]})]})]})}export{Ir as default};
