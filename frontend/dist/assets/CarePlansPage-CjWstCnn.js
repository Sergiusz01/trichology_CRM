import{c as g,j as e,N as y,r as i,p as u,n as b,o as C,q as v,B as s,T as t,t as n,C as w,P as z,A as k,I as P}from"./index-DuGlS2hS.js";import{L as x}from"./LocalHospital-JyMKwtWl.js";import{B as S}from"./Button-DYA-l7Ix.js";import{A as I}from"./Add-CyAZE82m.js";import{G as p}from"./Grid-9JmJah-6.js";import{C as B}from"./Card-BZPW2CFi.js";import{C as W}from"./CardContent-DyGdFslf.js";import{E as A}from"./EventNote-DQCOQi1j.js";import{C as E}from"./ChevronRight-D-Ngy3Ka.js";import"./useThemeProps-CESs6Os5.js";const H=g([e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]);function Q(){const{id:o}=y(),[l,m]=i.useState([]),[h,c]=i.useState(!0),d=u(),r=b(),j=C(r.breakpoints.down("sm"));i.useEffect(()=>{o&&f()},[o]);const f=async()=>{try{c(!0);const a=await v.get(`/care-plans/patient/${o}`);m(a.data.carePlans)}catch(a){console.error("Błąd pobierania planów:",a)}finally{c(!1)}};return e.jsxs(s,{sx:{p:{xs:1,sm:2}},children:[e.jsxs(s,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:2,mb:4},children:[e.jsxs(s,{children:[e.jsxs(t,{variant:"h4",sx:{fontWeight:800,color:"secondary.main",display:"flex",alignItems:"center",gap:1.5,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:[e.jsx(x,{fontSize:"large"}),"Plany opieki"]}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mt:.5,fontWeight:500},children:"Zarządzaj kuracją i zaleceniami dla pacjenta"})]}),e.jsx(S,{variant:"contained",startIcon:e.jsx(I,{}),color:"secondary",fullWidth:j,onClick:()=>d(`/patients/${o}/care-plans/new`),sx:{borderRadius:2.5,textTransform:"none",fontWeight:700,py:1.2,px:3,boxShadow:`0 4px 12px ${n(r.palette.secondary.main,.2)}`},children:"Nowy plan"})]}),h?e.jsx(s,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:e.jsx(w,{})}):l.length===0?e.jsxs(z,{sx:{p:6,textAlign:"center",borderRadius:4,bgcolor:n(r.palette.secondary.main,.02)},children:[e.jsx(x,{sx:{fontSize:60,color:"text.disabled",mb:2}}),e.jsx(t,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Brak planów opieki"}),e.jsx(t,{variant:"body2",color:"text.disabled",children:"Nie utworzono jeszcze żadnego planu kuracji."})]}):e.jsx(p,{container:!0,spacing:2.5,children:l.map(a=>e.jsx(p,{size:{xs:12,md:6},children:e.jsx(B,{sx:{borderRadius:4,border:"1px solid",borderColor:"divider",transition:"all 0.2s","&:active":{transform:"scale(0.98)"},"&:hover":{borderColor:"secondary.main",boxShadow:"0 8px 24px rgba(0,0,0,0.06)"}},children:e.jsx(W,{sx:{p:0},children:e.jsxs(s,{sx:{p:3,cursor:"pointer"},onClick:()=>d(`/care-plans/${a.id}`),children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(k,{sx:{bgcolor:n(r.palette.secondary.main,.1),color:"secondary.main"},children:e.jsx(A,{fontSize:"small"})}),e.jsxs(s,{children:[e.jsx(t,{variant:"h6",sx:{fontWeight:700,lineHeight:1.2},children:a.title}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:.5,mt:.5},children:[e.jsx(H,{sx:{fontSize:14,color:"text.secondary"}}),e.jsxs(t,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:["Czas trwania: ",a.totalDurationWeeks," tygodni"]})]})]})]}),e.jsx(P,{size:"small",sx:{bgcolor:n(r.palette.secondary.main,.05),color:"secondary.main"},children:e.jsx(E,{})})]}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mt:2,lineHeight:1.6,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:"Plan obejmuje kompleksową opiekę trichologiczną dostosowaną do potrzeb pacjenta."})]})})})},a.id))})]})}export{Q as default};
