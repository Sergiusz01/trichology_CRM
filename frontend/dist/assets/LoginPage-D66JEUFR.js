import{c as C,j as s,u as V,r as m,B as i,P as F,A as M,T as o,I as d,C as D}from"./index-ik9JjyS6.js";import{u as K,a as L,C as g,o as R,s as j}from"./schemas-Dohw0Ahx.js";import{C as q}from"./Container-U9Ph7Onl.js";import{C as Z}from"./Card-CoKfBisl.js";import{C as N}from"./CardContent-IdCV6dAg.js";import{B as b}from"./Button-B6n5coYQ.js";import{A as O}from"./Alert-Dzq7_ew3.js";import{T as w}from"./TextField-BNTsiTHM.js";import{I as U}from"./InputAdornment-D5dmfE1O.js";import{V as G}from"./Visibility-DK8cQTuR.js";import"./useThemeProps-C_QfMg4i.js";import"./Select--zggdXop.js";const y=C(s.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"})),J=C(s.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),Q=R({email:j().min(1,"Adres email jest wymagany").email("Nieprawidłowy adres email"),password:j().min(1,"Hasło jest wymagane").min(6,"Hasło musi mieć minimum 6 znaków")});function ls(){const{login:z}=V(),[t,S]=m.useState(!1),[v,c]=m.useState(!1),[k,x]=m.useState(!1),{control:p,handleSubmit:T,formState:{errors:r,isSubmitting:h},setError:I,setValue:u}=K({resolver:L(Q),defaultValues:{email:"",password:""}}),n="agnieszka.polanska@example.com",l="test123",A=async()=>{await navigator.clipboard.writeText(n),c(!0),setTimeout(()=>c(!1),2e3)},P=async()=>{await navigator.clipboard.writeText(l),x(!0),setTimeout(()=>x(!1),2e3)},W=()=>{u("email",n),u("password",l)},E=async a=>{var e,f;try{await z(a.email,a.password)}catch(B){const H=((f=(e=B.response)==null?void 0:e.data)==null?void 0:f.error)||"Błąd logowania";I("root",{message:H})}};return s.jsx(i,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.default",p:2},children:s.jsx(q,{maxWidth:"sm",sx:{px:{xs:2,sm:3}},children:s.jsxs(F,{elevation:3,sx:{p:{xs:2.5,sm:4},display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"100%"},children:[s.jsx(M,{sx:{m:1,bgcolor:"primary.main",width:{xs:48,sm:64},height:{xs:48,sm:64},fontSize:{xs:"1.5rem",sm:"2rem"},fontWeight:"bold"},children:"T"}),s.jsx(o,{component:"h1",variant:"h4",sx:{mb:1,fontWeight:"bold",fontSize:{xs:"1.5rem",sm:"2.125rem"}},children:"Logowanie"}),s.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:{xs:2,sm:3},textAlign:"center",fontSize:{xs:"0.75rem",sm:"0.875rem"},px:{xs:1,sm:0}},children:"System Zarządzania Konsultacjami Trychologicznymi"}),s.jsx(Z,{sx:{width:"100%",mb:2,bgcolor:"info.light",border:"2px solid",borderColor:"info.main"},children:s.jsxs(N,{sx:{p:2,"&:last-child":{pb:2}},children:[s.jsx(o,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1.5,color:"info.dark"},children:"⚠️ Aplikacja w fazie testowej"}),s.jsx(o,{variant:"body2",sx:{mb:1.5,color:"text.primary"},children:"Użyj poniższych danych testowych do logowania:"}),s.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:1},children:[s.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1,bgcolor:"background.paper",p:1,borderRadius:1},children:[s.jsxs(o,{variant:"body2",sx:{flex:1,fontFamily:"monospace"},children:[s.jsx("strong",{children:"Email:"})," ",n]}),s.jsx(d,{size:"small",onClick:A,title:"Kopiuj email",children:s.jsx(y,{fontSize:"small"})}),v&&s.jsx(o,{variant:"caption",color:"success.main",children:"Skopiowano!"})]}),s.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1,bgcolor:"background.paper",p:1,borderRadius:1},children:[s.jsxs(o,{variant:"body2",sx:{flex:1,fontFamily:"monospace"},children:[s.jsx("strong",{children:"Hasło:"})," ",l]}),s.jsx(d,{size:"small",onClick:P,title:"Kopiuj hasło",children:s.jsx(y,{fontSize:"small"})}),k&&s.jsx(o,{variant:"caption",color:"success.main",children:"Skopiowano!"})]}),s.jsx(b,{variant:"outlined",size:"small",fullWidth:!0,onClick:W,sx:{mt:1},children:"Wypełnij dane testowe"})]})]})}),r.root&&s.jsx(O,{severity:"error",sx:{width:"100%",mb:2},onClose:()=>{},children:r.root.message}),s.jsxs(i,{component:"form",onSubmit:T(E),sx:{width:"100%",mt:1},children:[s.jsx(g,{name:"email",control:p,render:({field:a})=>{var e;return s.jsx(w,{...a,margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Adres email",autoComplete:"email",autoFocus:!0,error:!!r.email,helperText:(e=r.email)==null?void 0:e.message,size:"medium",sx:{"& .MuiInputBase-root":{fontSize:{xs:"0.875rem",sm:"1rem"}}}})}}),s.jsx(g,{name:"password",control:p,render:({field:a})=>{var e;return s.jsx(w,{...a,margin:"normal",required:!0,fullWidth:!0,label:"Hasło",type:t?"text":"password",id:"password",autoComplete:"current-password",error:!!r.password,helperText:(e=r.password)==null?void 0:e.message,size:"medium",InputProps:{endAdornment:s.jsx(U,{position:"end",children:s.jsx(d,{"aria-label":"toggle password visibility",onClick:()=>S(!t),edge:"end",children:t?s.jsx(J,{}):s.jsx(G,{})})})},sx:{"& .MuiInputBase-root":{fontSize:{xs:"0.875rem",sm:"1rem"}}}})}}),s.jsx(b,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:{xs:2,sm:3},mb:2,py:{xs:1.25,sm:1.5},fontSize:{xs:"0.875rem",sm:"1rem"}},disabled:h,children:h?s.jsx(D,{size:24,color:"inherit"}):"Zaloguj się"})]})]})})})}export{ls as default};
