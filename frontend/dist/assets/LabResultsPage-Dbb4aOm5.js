import{c as j,j as e,N as b,r as c,p as g,n as u,o as w,q as v,B as s,T as a,t as n,P as C,A as S,I as z,D as R}from"./index-DuGlS2hS.js";import{S as d}from"./Science-CQ1rCQXw.js";import{B as x}from"./Button-DYA-l7Ix.js";import{A as k}from"./Add-CyAZE82m.js";import{G as p}from"./Grid-9JmJah-6.js";import{C as W}from"./Card-BZPW2CFi.js";import{C as I}from"./CardContent-DyGdFslf.js";import{E as B}from"./Event-0busPn9n.js";import{E as L}from"./Edit-CC4dElt7.js";import{S as A}from"./Stack-DKrDn8iz.js";import{C as E}from"./Chip-CKQ1KLG2.js";import{C as $}from"./ChevronRight-D-Ngy3Ka.js";import"./useThemeProps-CESs6Os5.js";const D=j(e.jsx("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}));function Z(){const{id:i}=b(),[l,m]=c.useState([]),o=g(),r=u(),f=w(r.breakpoints.down("sm"));c.useEffect(()=>{i&&h()},[i]);const h=async()=>{try{const t=await v.get(`/lab-results/patient/${i}`);m(t.data.labResults)}catch(t){console.error("Błąd pobierania wyników:",t)}},y=t=>{switch(t){case"LOW":case"HIGH":return"error";case"NORMAL":return"success";default:return"default"}};return e.jsxs(s,{sx:{p:{xs:1,sm:2}},children:[e.jsxs(s,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:2,mb:4},children:[e.jsxs(s,{children:[e.jsxs(a,{variant:"h4",sx:{fontWeight:800,color:"primary.main",display:"flex",alignItems:"center",gap:1.5,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:[e.jsx(d,{fontSize:"large"}),"Wyniki badań"]}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:.5,fontWeight:500},children:"Historia wyników laboratoryjnych pacjenta"})]}),e.jsx(x,{variant:"contained",startIcon:e.jsx(k,{}),fullWidth:f,onClick:()=>o(`/patients/${i}/lab-results/new`),sx:{borderRadius:2.5,textTransform:"none",fontWeight:700,py:1.2,px:3,boxShadow:`0 4px 12px ${n(r.palette.primary.main,.2)}`},children:"Dodaj wynik"})]}),l.length===0?e.jsxs(C,{sx:{p:6,textAlign:"center",borderRadius:4,bgcolor:n(r.palette.primary.main,.02)},children:[e.jsx(d,{sx:{fontSize:60,color:"text.disabled",mb:2}}),e.jsx(a,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Brak wyników badań"}),e.jsx(a,{variant:"body2",color:"text.disabled",children:"Nie wprowadzono jeszcze żadnych wyników dla tego pacjenta."})]}):e.jsx(p,{container:!0,spacing:2.5,children:l.map(t=>e.jsx(p,{size:{xs:12,md:6},children:e.jsx(W,{sx:{borderRadius:4,border:"1px solid",borderColor:"divider",transition:"all 0.2s","&:hover":{borderColor:"primary.main",boxShadow:"0 8px 24px rgba(0,0,0,0.06)",transform:"translateY(-2px)"}},children:e.jsxs(I,{sx:{p:3},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(S,{sx:{bgcolor:n(r.palette.primary.main,.1),color:"primary.main"},children:e.jsx(B,{fontSize:"small"})}),e.jsxs(s,{children:[e.jsx(a,{variant:"h6",sx:{fontWeight:700},children:new Date(t.date).toLocaleDateString("pl-PL",{day:"numeric",month:"long",year:"numeric"})}),e.jsxs(a,{variant:"caption",color:"text.secondary",sx:{fontWeight:600,display:"flex",alignItems:"center",gap:.5},children:[e.jsx(D,{sx:{fontSize:14}})," Analiza parametrów"]})]})]}),e.jsx(z,{size:"small",onClick:()=>o(`/patients/${i}/lab-results/${t.id}/edit`),sx:{bgcolor:n(r.palette.primary.main,.05),color:"primary.main"},children:e.jsx(L,{fontSize:"small"})})]}),e.jsx(R,{sx:{my:2,opacity:.6}}),e.jsxs(A,{spacing:2,children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(s,{children:[e.jsx(a,{variant:"body2",color:"text.secondary",sx:{fontWeight:600},children:"Ferrytyna"}),e.jsxs(a,{variant:"body1",sx:{fontWeight:700},children:[t.ferritin," ",e.jsx(a,{component:"span",variant:"caption",color:"text.secondary",children:t.ferritinUnit})]})]}),e.jsx(E,{label:t.ferritinFlag||"OK",color:y(t.ferritinFlag||""),size:"small",sx:{fontWeight:700,borderRadius:1.5}})]}),e.jsxs(a,{variant:"caption",color:"text.disabled",sx:{fontStyle:"italic"},children:["Zakres referencyjny: ",t.ferritinRefLow," - ",t.ferritinRefHigh," ",t.ferritinUnit]})]}),e.jsx(x,{fullWidth:!0,endIcon:e.jsx($,{}),onClick:()=>o(`/patients/${i}/lab-results/${t.id}`),sx:{mt:3,textTransform:"none",fontWeight:700,justifyContent:"space-between",px:2,py:1,borderRadius:2,bgcolor:n(r.palette.primary.main,.03),"&:hover":{bgcolor:n(r.palette.primary.main,.08)}},children:"Szczegóły badania"})]})})},t.id))})]})}export{Z as default};
